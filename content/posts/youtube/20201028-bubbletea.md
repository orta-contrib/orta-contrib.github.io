---
title: "YT: Bubble Tea"
date: 2020-10-30T22:17:25+09:00
draft: false
toc: true
tags: ["youtube", "bubbletea", "tui", "go"]
---


2å›ã«åˆ†ã‘ã¦æ”¾é€ã—ã¾ã—ãŸã€‚

## YouTube

#### ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ç·¨

{{<youtube U-LP-7IXZK8>}}

#### å¿œç”¨ç·¨

{{<youtube g_mRfGoX24E>}}

## charmbracelet/bubbletea

[charmbracelet/bubbletea: A powerful little TUI framework ğŸ—](https://github.com/charmbracelet/bubbletea)

### Why?

ä»Šå›ã¯ã€Goè¨€èªè£½ã®TUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯[Bubble Tea](https://github.com/charmbracelet/bubbletea)ã€‚

ä½•ã§çŸ¥ã£ãŸã‹ã¯å¿˜ã‚Œã¡ã‚ƒã£ãŸã‘ã©ã€READMEã«è¼‰ã£ã¦ã‚‹ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªTeaminal UIã«æƒ¹ã‹ã‚Œã¾ã—ãŸã€‚ã‚„ã£ã±ã‚Šå¯è¦–åŒ–ã¯é¢ç™½ãã†ã«è¦‹ãˆã¡ã‚ƒã†ã‚ˆã­ã€‚

### What?

Goã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‹ã¤ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã§ãã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚
[Bubble Tea](https://github.com/charmbracelet/bubbletea)æœ¬ä½“ã¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®éƒ¨åˆ†ã«é–¢ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªéƒ¨åˆ†ã«ã¤ã„ã¦ã¯åŒã˜ä½œè€…ã®[Bubbles](https://github.com/charmbracelet/bubbles)ã®æ–¹ã«åˆ¥ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦åˆ‡ã‚Šå‡ºã•ã‚Œã¦ã„ã‚‹æ¨¡æ§˜ã€‚

ã“ã®ä½œè€…ã¯Goã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã«é–¢ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è‰²ã€…å…¬é–‹ã—ã¦ã„ã¦ã€Markdownã‚’ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ãã‚‹[glamor](https://github.com/charmbracelet/glamour)ãªã‚“ã‹ã¯ã€GitHub CLI (gh)ã«ã‚‚ä½¿ã‚ã‚Œã¦ã„ã‚‹æ¨¡æ§˜ã€‚

https://github.com/cli/cli/blob/trunk/go.mod#L9

READMEã®å…ˆé ­ã«ã‚‚æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€Elmè¨€èªã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«å½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹ãã†ã€‚

> The fun, functional and stateful way to build terminal apps. A Go framework based on The Elm Architecture. 

ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨€ã£ã¦ã‚‚ã€ãƒ¢ãƒ‡ãƒ«ãŒã‚ã£ã¦ã€ãƒ¢ãƒ‡ãƒ«ã®çŠ¶æ…‹ã«ã‚ˆã£ã¦å¤‰åŒ–ã™ã‚‹ViewãŒã‚ã£ã¦ã€ãƒ¢ãƒ‡ãƒ«ã®çŠ¶æ…‹ã‚’å¤‰æ›´ã™ã‚‹UpdateãŒã‚ã‚‹ã€ã¿ãŸã„ãªå˜ç´”ãªã‚‚ã®ã€‚

### How?

READMEã«è¼‰ã£ã¦ã‚‹TODOã‚¢ãƒ—ãƒªã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãŒã€ã‚µã‚¯ãƒƒã¨è©¦ã›ã‚‹ã®ã§ã€ã¾ãšã¯å†™çµŒã—ã¦å‹•ã‹ã—ã¦ã¿ã‚‹ã®ãŒãŠå‹§ã‚ã€‚

å‰è¿°ã—ãŸã‚ˆã†ã«ã€Bubble Teaã¯Modelã€Viewã€Updateã‚’ä½¿ã£ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚

å…·ä½“çš„ã«ã¯ã€[`tea.Model`](https://pkg.go.dev/github.com/charmbracelet/bubbletea#Model)ã®ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ãŸæ§‹é€ ä½“ã‚’ä½œã‚Šã¾ã™ã€‚

```go
type Model interface {
	// Init is the first function that will be called. It returns an optional
	// initial command. To not perform an initial command return nil.
	Init() Cmd

	// Update is called when a message is received. Use it to inspect messages
	// and, in response, update the model and/or send a command.
	Update(Msg) (Model, Cmd)

	// View renders the program's UI, which is just a string. The view is
	// rendered after every Update.
	View() string
}
```

`Model`ã‚’å®Ÿè£…ã™ã‚‹æ§‹é€ ä½“ã®æŒã¤ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯è‡ªç”±ã«å®šç¾©ã§ãã¦ã€æœ€çµ‚çš„ã«`View`ãƒ¡ã‚½ãƒƒãƒ‰ã®æˆ»ã‚Šå€¤`string`ãŒã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹æ–‡å­—åˆ—ã«ãªã‚Šã¾ã™ã€‚[examples](https://github.com/charmbracelet/bubbletea/tree/master/examples)ã‚’ã¿ã‚‹ã¨ã€`View`ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸­ã§[bubbles](https://github.com/charmbracelet/bubbles)ã®ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ãŸã‚Šã€[termenv](https://github.com/muesli/termenv)ã§ã‚¹ã‚¿ã‚¤ãƒ«æŒ‡å®šã—ãŸã‚Šã—ã¦ã¾ã™ã­ã€‚ï¼ˆä¸€éƒ¨ã®bubblesã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯`Update`ãªã‚“ã‹ã«ã‚‚çµ¡ã‚“ã§æ¥ã¾ã™ãŒï¼‰

`Update`ã§ãƒ¢ãƒ‡ãƒ«ã®çŠ¶æ…‹ã‚’å¤‰åŒ–ã•ã›ã¦ã€Viewã®è¡¨ç¤ºã‚’å¤‰ãˆã‚‹ã¨ã„ã†å‹•ãã§ã™ãŒã€`Update`ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã¯è‰²ã€…ã‚ã‚Šã¾ã™ã€‚`Update`ã®å¼•æ•°[Msg](https://pkg.go.dev/github.com/charmbracelet/bubbletea#Msg)ã«ã€`Update`ã‚’ãƒˆãƒªã‚¬ã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®å†…å®¹ãŒå…¥ã£ã¦ã„ã¾ã™ãŒã€ã‚­ãƒ¼å…¥åŠ›ã®[`KeyMsg`](https://pkg.go.dev/github.com/charmbracelet/bubbletea#KeyMsg)ã ã£ãŸã‚Šã€ãƒã‚¦ã‚¹ç§»å‹•ã®[MouseEvent](https://pkg.go.dev/github.com/charmbracelet/bubbletea#MouseEvent)ã ã£ãŸã‚Šã€[Tick](https://pkg.go.dev/github.com/charmbracelet/bubbletea#Tick)ã§å®šæœŸçš„ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«ã™ã‚‹ã‚‚ã®ã ã£ãŸã‚Šã€‚ï¼ˆã“ã®è¾ºã®ä½¿ã„æ–¹ã¯[examples](https://github.com/charmbracelet/bubbletea/tree/master/examples)ã‚’å‚ç…§ï¼‰


### Impression
`Model`ã€`Update`ã€`View`ã®é–¢ä¿‚ã¯é ­ã«å…¥ã£ã¦æ¥ã‚„ã™ã„ã—ã€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®TODOã‚¢ãƒ—ãƒªãªã‚“ã‹ã‚‚ã‚µã‚¯ã£ã¨ä½œã‚ŒãŸã‚Šã™ã‚‹ã®ã§ä¾¿åˆ©ãã†ã€‚ãŸã ã€Bubbleã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ã£ã¦ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ã ã£ãŸã‚Šã€å‹•ãã®å¤šã„ã‚‚ã®ã‚’ä½œã‚ã†ã¨ã™ã‚‹ã¨ã€è‰²ã€…ã‚„ã‚„ã“ã—ããªã£ã¦ãã‚‹ã®ã§æ…£ã‚Œãªã„ã¨è¾›ãã†ã€‚

æ›´æ–°é »åº¦ã¯ã¾ã ã¾ã é«˜ã„ã®ã§ã€ã‚‚ã†å°‘ã—è½ã¡ç€ãã¨ã“ã‚ã¾ã§è¡Œã£ãŸã‚‰ä½¿ã„ãŸã„ã§ã™ã­ã€œï¼ˆç”¨é€”æ€ã„ã¤ã„ã¦ãªã„ã‘ã©ï¼‰

## Contribution
ç‰¹ã«ãªã—ï¼ˆãã‚ãã‚ä½•ã‹ã—ãŸã„...ï¼‰