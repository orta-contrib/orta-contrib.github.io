<!doctype html><html lang=ja-jp><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>YT: ossf/criticality_score | orta blog (any%)</title><meta name=description content="OSS Contribution RTA (any%) Player"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="YT: ossf/criticality_score"><meta property="og:description" content="YouTube   ossf/criticality_score https://github."><meta property="og:type" content="article"><meta property="og:url" content="https://orta-contrib.github.io/posts/youtube/20210222-criticality-score/"><meta property="article:published_time" content="2021-02-22T23:46:20+09:00"><meta property="article:modified_time" content="2021-02-22T23:46:20+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="YT: ossf/criticality_score"><meta name=twitter:description content="YouTube   ossf/criticality_score https://github."><link rel=stylesheet href=https://orta-contrib.github.io/css/style-light.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://orta-contrib.github.io/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a><a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a><a id=top-icon-tablet href=# onclick="$('html, body').animate({scrollTop:0},'fast');" style=display:none><i class="fas fa-chevron-up fa-lg"></i></a><span id=menu><span id=nav><ul><li><a href=/tags>Tags</a></li><li><a href=/posts>Writings</a></li><li><a href=/>Home</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://orta-contrib.github.io/posts/youtube/20210206-muse/><i class="fas fa-chevron-left" aria-hidden=true onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li><li><a class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up" aria-hidden=true onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li><li><a class=icon href=#><i class="fas fa-share-alt" aria-hidden=true onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f"><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&text=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&is_video=false&description=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=YT%3a%20ossf%2fcriticality_score&body=Check out this article: https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f"><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-stumbleupon" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-digg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&name=YT%3a%20ossf%2fcriticality_score&description=YouTube%20%20%20ossf%2fcriticality_score%20https%3a%2f%2fgithub."><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&t=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#youtube>YouTube</a></li><li><a href=#ossfcriticality_score>ossf/criticality_score</a><ul><li><a href=#why>why?</a></li><li><a href=#what>what?</a></li><li><a href=#how>How?</a></li><li><a href=#impression>Impression</a></li></ul></li><li><a href=#contribute>Contribute</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">YT: ossf/criticality_score</h1><div class=meta><div class=postdate><time datetime="2021-02-22 23:46:20 +0900 +0900" itemprop=datePublished>2021-02-22</time></div><div class=article-tag><i class="fas fa-tag"></i><a class=tag-link href=/tags/youtube rel=tag>youtube</a>
<a class=tag-link href=/tags/oss rel=tag>oss</a>
,
<a class=tag-link href=/tags/criticality_score rel=tag>criticality_score</a></div></div></header><div class=content itemprop=articleBody><h2 id=youtube>YouTube</h2><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/7fFQCsgVXts style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><h2 id=ossfcriticality_score>ossf/criticality_score</h2><p><a href=https://github.com/criticality_score>https://github.com/criticality_score</a></p><h3 id=why>why?</h3><p><a href=https://opensource.googleblog.com/2020/12/finding-critical-open-source-projects.html>https://opensource.googleblog.com/2020/12/finding-critical-open-source-projects.html</a></p><p>Twitter で上記の記事が流れて来て、少し読んでみると OpenSource プロジェクトのスコアをつけると言うものだったので興味があった。また、スコア計算式の元ネタは Rob Pike 氏のものということでどんなスコアが出るのかちょっと見てみようと思った。</p><h3 id=what>what?</h3><p>Open Source プロジェクトの活動履歴などを元に、そのプロジェクトの Criticality Score というものを算出する Python ツール。</p><p>スコアの算出に使用されるパラメータは<a href=https://github.com/ossf/criticality_score#criticality-score>README</a>に記載があり、更新頻度、コントリビュータの数や所属組織への多様性、Issue に対する活動頻度などのパラメータに対し、それぞれ重みを付けて計算することで一元的な Criticality Score というものを算出している。Criticality とは何なのかが少しわかりづらく、実際そのような<a href=https://github.com/ossf/criticality_score/issues/30>Issue</a>も立てられている。</p><p>また、現在の計算式も確定というわけではなく、Criticality Score V2 のアイデアについてもディスカッションが行われている。</p><p><a href=https://github.com/ossf/criticality_score/issues/82>https://github.com/ossf/criticality_score/issues/82</a></p><p>ユースケースとしては、あるコミュニティのプロダクトが依存している OSS プロジェクトに対して Criticality Score を算出し、Score の低いプロジェクトは継続性に難があると考えられるため、そこに対して依存を外したり、サポートを付けるなどの判断をするために使うことを目的としているように見える。</p><p>最近だと、Google が OSS の脆弱性データベースである OSV を公開するなど、OSS プロジェクトの健全性を測る仕組みが注目を集めており、その一端となることが期待されているように思う。</p><p><a href=https://www.publickey1.jp/blog/21/googleosvopen_source_vulnerabilities.html>Google、オープンソースソフトウェアの脆弱性をバージョンごとにデータベース化する「OSV」（Open Source Vulnerabilities）プロジェクトを開始</a></p><h3 id=how>How?</h3><p>スコア算出ツールは Python モジュールとして公開されているため、<code>pip</code>でインストールして実行するだけ。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ pip3 install criticality-score
...
$ criticality_score --repo github.com/kubernetes/kubernetes
name: kubernetes
url: https://github.com/kubernetes/kubernetes
language: Go
created_since: <span style=color:#ae81ff>82</span>
updated_since: <span style=color:#ae81ff>0</span>
contributor_count: <span style=color:#ae81ff>3777</span>
org_count: <span style=color:#ae81ff>5</span>
commit_frequency: 96.6
recent_releases_count: <span style=color:#ae81ff>78</span>
updated_issues_count: <span style=color:#ae81ff>5169</span>
closed_issues_count: <span style=color:#ae81ff>2875</span>
comment_frequency: 5.4
dependents_count: <span style=color:#ae81ff>435210</span>
criticality_score: 0.98608
</code></pre></div><p>測定対象は GitHub と GitLab 上のプロジェクトだけであり、それぞれ実行前にアクセストークンを環境変数に設定する必要がある。</p><p>最終的な計算結果であるスコアは一番最後に出力されている <code>criticality_score: 0.98608</code> の部分。0~1 までの値を取り、<code>1</code>が最も高い（信頼できるプロジェクトである）ことを示す。
<a href=https://gihtub.com/kubernetes/kubernetes><code>kubernetes</code></a>は、さすがほぼ最高値に近い。</p><p>出力形式を指定する<code>--format</code>オプションと、Criticality Score 算出に使用するパラメータを追加できる<code>--params</code>オプションも使える。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ criticality_score -h
usage: criticality_score <span style=color:#f92672>[</span>-h<span style=color:#f92672>]</span> --repo REPO <span style=color:#f92672>[</span>--format <span style=color:#f92672>{</span>default,csv,json<span style=color:#f92672>}]</span> <span style=color:#f92672>[</span>--params PARAMS <span style=color:#f92672>[</span>PARAMS ...<span style=color:#f92672>]]</span>

Gives criticality score <span style=color:#66d9ef>for</span> an open source project

optional arguments:
  -h, --help            show this help message and exit
  --repo REPO           repository url
  --format <span style=color:#f92672>{</span>default,csv,json<span style=color:#f92672>}</span>
                        output format. allowed values are <span style=color:#f92672>[</span>default, csv, json<span style=color:#f92672>]</span>
  --params PARAMS <span style=color:#f92672>[</span>PARAMS ...<span style=color:#f92672>]</span>
                        Additional parameters in form &lt;value&gt;:&lt;weight&gt;:&lt;max_threshold&gt;
</code></pre></div><p>動かすのが面倒な場合は、サンプルとして実行結果データが公開されているのでそちらを確認するのが楽。</p><p><a href=https://commondatastorage.googleapis.com/ossf-criticality-score/index.html>https://commondatastorage.googleapis.com/ossf-criticality-score/index.html</a></p><p>各言語ごとの Top 200 プロジェクトと、10 万プロジェクトに対する実行結果がある。
配信では 10 万プロジェクトに対する実行結果を見ていたが、<code>criticality_score=0.7</code>ぐらいまでなら OK で、<code>0.6</code>あたりのプロジェクトになると対処を考えておいた方がいいのかな、ぐらいの印象を受けた。</p><p><a href="https://youtu.be/7fFQCsgVXts?t=2429">https://youtu.be/7fFQCsgVXts?t=2429</a></p><h3 id=impression>Impression</h3><p>多種多様の OSS プロジェクトが出てくる中、やはり俯瞰的に比較できる指標が求められる場面はあると考えられるため、このような指標は興味深い。しかし、実際にこのような値をどのような決断を下すときに参考にすべきなのか、また、スコア算出に使用するメトリクスは挙げられているものだけで良いのか、などは状況によって異なるためユースケースについてはいつまでも考えていかなくてはならないんだろう。</p><p>とりあえず、スコア算出自体は GitHub/GitLab プロジェクトであれば、パブリックでもオンプレミス環境でも簡単に実行できそうなので、ツールの存在は覚えておき、いろんな場面で試してみるのが良いのだろう。</p><h2 id=contribute>Contribute</h2><p>特になし（アクセストークンの Scope 追記でいけるかと思ったけど勘違いだった&mldr;）</p></div></article><div class=blog-post-comments><div id=disqus_thread><script type=text/javascript>(function(){var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='orta-blog-any';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/tags>Tags</a></li><li><a href=/posts>Writings</a></li><li><a href=/>Home</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#youtube>YouTube</a></li><li><a href=#ossfcriticality_score>ossf/criticality_score</a><ul><li><a href=#why>why?</a></li><li><a href=#what>what?</a></li><li><a href=#how>How?</a></li><li><a href=#impression>Impression</a></li></ul></li><li><a href=#contribute>Contribute</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f"><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&text=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&is_video=false&description=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=YT%3a%20ossf%2fcriticality_score&body=Check out this article: https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f"><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.stumbleupon.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-stumbleupon fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://digg.com/submit?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&title=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-digg fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&name=YT%3a%20ossf%2fcriticality_score&description=YouTube%20%20%20ossf%2fcriticality_score%20https%3a%2f%2fgithub."><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2forta-contrib.github.io%2fposts%2fyoutube%2f20210222-criticality-score%2f&t=YT%3a%20ossf%2fcriticality_score"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu class=icon href=# onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden=true></i>Menu</a>
<a id=toc class=icon href=# onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden=true></i>TOC</a>
<a id=share class=icon href=# onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden=true></i>share</a>
<a id=top style=display:none class=icon href=# onclick="$('html, body').animate({scrollTop:0},'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i>Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2021 orta-contrib</div><div class=footer-right><nav><ul><li><a href=/tags>Tags</a></li><li><a href=/posts>Writings</a></li><li><a href=/>Home</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script></html>